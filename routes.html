<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>TripHop</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet">

	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
	<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css">
	<script src="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js"></script>

	<script src="./static/js/routes.js"></script>

	<link rel="icon" href="./static/icons/triphop.png">

	<meta name="msapplication-config" content="https://getbootstrap.com/docs/4.5/assets/img/favicons/browserconfig.xml">
    <meta name="theme-color" content="#563d7c">

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }

		.leaflet-container {
		height: calc(100vh - 5px); 
		width: 100%;
		position: relative;
		}

		.stuff{
			height: 100vh;
    		overflow: auto;
		}
      }
    </style>
  </head>
<body onload="start()">
    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasTrip" aria-labelledby="offcanvasTripLabel">
		<div class="offcanvas-header">
		  	<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
		</div>
		<div class="offcanvas-body">
			<div id="trip">
				<div id="trip_summary"></div>
				<div class="accordion accordion-flush" id="next_steps">

					<div class="accordion-item" id="accordion_travel">
						<h2 class="accordion-header">
						  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#accordion_go" aria-expanded="true" aria-controls="accordion_go">
							Book travel
						  </button>
						</h2>
						<div id="accordion_go" class="accordion-collapse collapse" data-bs-parent="#next_steps">
						  <div class="accordion-body">
						  </div>
						</div>
					</div>

					<div class="accordion-item" id="accordion_travel_things">
						<h2 class="accordion-header">
						  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#accordion_things" aria-expanded="true" aria-controls="accordion_things">
							Things to do
						  </button>
						</h2>
						<div id="accordion_things" class="accordion-collapse collapse" data-bs-parent="#next_steps">
						  <div class="accordion-body">
							<div class="card card-body"><script async src="https://tp.media/content?currency=GBP&trs=285507&shmarker=505720&powered_by=true&lowest_price=&highest_price=&min_lines=5&color_button=%23346A6C&promo_id=5850&campaign_id=47" charset="utf-8"></script></div>
						  </div>
						</div>
					</div>
					<div class="accordion-item" id="accordion_travel_stay">
						<h2 class="accordion-header">
						  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#accordion_stay" aria-expanded="true" aria-controls="accordion_stay">
							Places to stay
						  </button>
						</h2>
						<div id="accordion_stay" class="accordion-collapse collapse" data-bs-parent="#next_steps">
						  <div class="accordion-body">
							<div class="card card-body"><script async src="https://tp.media/content?trs=285507&shmarker=505720&locale=en&sustainable=false&border_radius=6&plain=true&powered_by=true&promo_id=2693&campaign_id=84" charset="utf-8"></script>"</div>
						  </div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasStart" aria-labelledby="offcanvasStart">
		<div class="offcanvas-header">
		  	<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
		</div>
		<h3 class="card-title">TripHop</h3>
		<div class="offcanvas-body" id="offCanvasStartBody">
		</div>
	</div>

    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasInspire" aria-labelledby="offcanvasInspire">
		<div class="offcanvas-header">
		  	<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button><h5 class="text-center" style="font-family: 'Cantora One', Arial; font-weight: 700; vertical-align: baseline; color:#ff6600ff" id="inspireTitle"></h5>
		</div>
		<div class="offcanvas-body" id="offCanvasInspireBody">
		</div>
	</div>

	<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasSettings" aria-labelledby="offcanvasSettings">
	</div>
    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasPlace" aria-labelledby="offcanvasPlaceLabel">
		<div class="offcanvas-header">
		  	<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
		</div>
		<div class="offcanvas-body">
			<div id="place_body"></div>	
			<span id="messages" hidden></span>
			<span id="place_id" hidden></span>
			<span id="lat" hidden></span>
			<span id="lng" hidden></span>
		</div>
	</div>
    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasAbout" aria-labelledby="offcanvasAbout">
		<div class="offcanvas-header">
		  	<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
		</div>
		<div class="offcanvas-body">
				<h5 class="card-header">About TripHop</h5>
				<img src="./static/icons/triphop.png" class="card-img-top" alt="...">
				<div class="card-body">
					<blockquote class="blockquote mb-0">
						<p>Build your next trip - one hop at a time.</p>
					  </blockquote>
					<p class="card-text">
						It's time to think about travel differently. To discover the places inbetween.
						TripHop can show you directly connected places by train, coach or boat.
					</p>
				</div>
				<h5 class="card-header">About me</h5>
				<img src="./static/icons/me.jpg" class="card-img-top" alt="...">
				<div class="card-body">
					<blockquote class="blockquote mb-0">
					<p><small>It is good to have an end to journey toward, but it is the journey that matters in the end.</small></p>
					<footer class="blockquote-footer">Ernest Hemingway</footer>
				  </blockquote>
					<p class="card-text">
						Hi, I'm Howard.
						Over the last few years, I've been travelling around Europe and seeing what our fab content has to offer.
						These days I'm less interested in where I'm going to and want to know more about where I'm going through.
						I love getting off the train (or coach - I've become a fan) and going for a mooch around the places I used to fly over.
						The trouble is that transport information is a bit of a mess. I have made TripHop to try and fill the gap.
					</p>
				</div>
			</div>
	</div>
	<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasTravelDetails" aria-labelledby="offcanvasTravelDetailsLabel">
		<div class="offcanvas-header">
		  	<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
		</div>
		<div class="offcanvas-body">
			<h5>Travel options</h5>
			<div id="travel_details_body"></div>
			<div>
				<div class="accordion accordion-flush" id="accordionTickets">
					<div class="accordion-item">
					  <h2 class="accordion-header">
						<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
							<h5>Buying tickets</h5>
						</button>
					  </h2>
					  <div id="flush-collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
						<div class="accordion-body">
							<p>There are many ways to buy tickets for travel by train, coach and boat.
								The most convenient for travel wih more that one operator is a travel specialist. Here are some options.</p>
							<h5>Ticket specialists</h5>
							<div class="card">
								<ul class="list-group list-group-flush">
								  <li class="list-group-item"><a href="https://omio.tp.st/p3bESwp0" target="_blank">Omio</a></li>
								  <li class="list-group-item"><a href="https://raileurope.tp.st/8Fh1Rhzz" target="_blank">RailEurope</a></li>
								  <li class="list-group-item"><a href="https://trainline.tp.st/YSw3hfJ9" target="_blank">TrainLine</a></li>
								</ul>
							  </div>	
						</div>
					  </div>
					</div>
				  </div>
			</div>
		</div>
		
	</div>
	<div class="container-fluid">
		<div class="row">
		<div class="col stuff" id="stuff" style="max-width: 400px;">
		<nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">
  	<a class="navbar-brand" aria-current="page" href="#" onclick="showHome()">
						<img src="./static/icons/triphop_3.png" alt="Logo" height="30" class="d-inline-block align-text-top">						
					</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
		<li class="nav-item" onclick="showMaps()">
				  <a class="nav-link" href="#">Maps</a>
		</li>
		<!--		<li class="nav-item" onclick="showSettings()">
				  <a class="nav-link" href="#">Settings</a>
				</li>-->
				<li class="nav-item" onclick="showAbout()">
					<a class="nav-link" href="#">About</a>
				  </li>
				  <li class="nav-item">
					<a class="nav-link" href="https://low-carb-travel.info" target="_blank">Blog</a>
				  </li>	
      </ul>
    </div>
  </div>
</nav>
		
			<div id="homeBody" class="container-fluid">
				<p class="card-text">Pick a place and see where you can go in a single hop - stay for as little or long as you like and move on.</p>
			</div>
			<div id="mapsBody" class="container-fluid"  hidden="true">
				<div class="dropdown">
					<button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
					  maps
					</button>
					<button onclick="showPlacesWithRoutes()">show places</button>
					<button onclick="showLiveStartPoints()">show live departures</button>
					<ul class="dropdown-menu">
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/Aktsiaselts_Hansa_Bussiliinid_agency_route_stops.json')">Aktsiaselts_Hansa_Bussiliinid</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/ALSA_agency_route_stops.json')">ALSA</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/ALSA_BUS_GEX_agency_route_stops.json')">ALSA_BUS_GEX</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/AS_Lux_Express_Estonia_agency_route_stops.json')">AS_Lux_Express_Estonia</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/Atko_Bussiliinid_AS_agency_route_stops.json')">Atko_Bussiliinid_AS</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/BlaBlaCar_Bus_agency_route_stops.json')">BlaBlaCar_Bus</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/CFR_Călători_agency_route_stops.json')">CFR_Călători</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/CharenteMaritime_agency_route_stops.json')">CharenteMaritime</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/DB_Fernverkehr_AG_agency_route_stops.json')">DB_Fernverkehr_AG</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/DB_Fernverkehr__Codesharing__agency_route_stops.json')">DB_Fernverkehr__Codesharing_</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/ELRON_agency_route_stops.json')">ELRON</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/FlixBus-eu_agency_route_stops.json')">FlixBus-eu</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/FlixTrain-eu_agency_route_stops.json')">FlixTrain-eu</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/FYNBUS_agency_route_stops.json')">FYNBUS</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/FÖLI_Turun_seudun_joukkoliikenne_agency_route_stops.json')">FÖLI_Turun_seudun_joukkoliikenne</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/GoBus_AS_agency_route_stops.json')">GoBus_AS</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/Greyhound-eu_agency_route_stops.json')">Greyhound-eu</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/HANSABUSS_AS_agency_route_stops.json')">HANSABUSS_AS</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/Interregional_Calatori_agency_route_stops.json')">Interregional_Calatori</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/Midttrafik_agency_route_stops.json')">Midttrafik</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/Movia_agency_route_stops.json')">Movia</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/NOR-WAY_Bussekspress_AS_agency_route_stops.json')">NOR-WAY_Bussekspress_AS</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/Nysse_agency_route_stops.json')">Nysse</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/OnniBus_FLEX_agency_route_stops.json')">OnniBus_FLEX</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/Pasažieru_Vilciens_agency_route_stops.json')">Pasažieru_Vilciens</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/Pohjolan_Matka_agency_route_stops.json')">Pohjolan_Matka</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/Regio_Călători_agency_route_stops.json')">Regio_Călători</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/Renfe_Cercanias_agency_route_stops.json')">Renfe_Cercanias</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/RENFE_OPERADORA_agency_route_stops.json')">RENFE_OPERADORA</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/Rhône-Alpes_agency_route_stops.json')">Rhône-Alpes</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/SARFA_agency_route_stops.json')">SARFA</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/SBB__SBB_GmbH__agency_route_stops.json')">SBB__SBB_GmbH_</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/SBB__Schweizerische_Bundesbahnen_SBB__agency_route_stops.json')">SBB__Schweizerische_Bundesbahnen_SBB_</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/SEBE_Aktsiaselts_agency_route_stops.json')">SEBE_Aktsiaselts</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/SJ_agency_route_stops.json')">SJ</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/SNCF_agency_route_stops.json')">SNCF</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/SNCF_Intercities_agency_route_stops.json')">SNCF_Intercities</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/SNCF_Intercities_OCEdefault_agency_route_stops.json')">SNCF_Intercities_OCEdefault</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/SNCF_TER_agency_route_stops.json')">SNCF_TER</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/SNCF_TER_OCEdefault_agency_route_stops.json')">SNCF_TER_OCEdefault</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/SNCF_TGV_agency_route_stops.json')">SNCF_TGV</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/SNCF_TGV_OCEdefault_agency_route_stops.json')">SNCF_TGV_OCEdefault</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/Sydtrafik_agency_route_stops.json')">Sydtrafik</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/Thalys_agency_route_stops.json')">Thalys</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/Trenitalia_agency_route_stops.json')">Trenitalia</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/TRENITALIA_S_p_A__agency_route_stops.json')">TRENITALIA_S_p_A_</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/VR_agency_route_stops.json')">VR</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/Vy_Bus4You_agency_route_stops.json')">Vy_Bus4You</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/Vy_Express_agency_route_stops.json')">Vy_Express</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/Vy_Nattåg_agency_route_stops.json')">Vy_Nattåg</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/Vy_Tåg_agency_route_stops.json')">Vy_Tåg</a></li>
						<li><a class="dropdown-item" href="#" onclick="showAgencyRawRouteLines('./static/agencies/ÖBB__Österreichische_Bundesbahnen__agency_route_stops.json')">ÖBB__Österreichische_Bundesbahnen_</a></li>			</ul>
		</div>
				<div id="map_details"></div>
			</div>			
			<div id="inspireBody" hidden="true">
				<h3 class="text-center" style="font-family: 'Cantora One', Arial; font-weight: 700; vertical-align: baseline; color:#ff6600ff">Inspired ideas</h3>
				<!--<div class="row row-cols-1 row-cols-md-2 g-4" id="inspireBodyGrid"></div>-->
				<div class="row" id="inspireBodyGrid"></div>
			</div>
			<div id="settingsBody" hidden="true">
			  	<h5 class="card-title">Settings</h5>
			  	<div class="offcanvas-body" id="offCanvasSettingsBody">
				  <div class="form-check form-switch">
					  <input class="form-check-input" type="checkbox" role="switch" id="includeBuses" checked>
					  <label class="form-check-label" for="includeBuses">Include buses/coaches</label>
				  </div>
				  <div class="form-check form-switch">
					  <input class="form-check-input" type="checkbox" role="switch" id="includeTrains" checked>
					  <label class="form-check-label" for="includeTrains">Include trains</label>
				  </div>
				  <div class="form-check form-switch">
					  <input class="form-check-input" type="checkbox" role="switch" id="includeFerries" checked>
					  <label class="form-check-label" for="includeFerries">Include ferries</label>
				  </div>
				  
				  <!--<label for="maxJourneyTime" class="form-label">Maximum Journey Time (hours)</label>
				  <input type="range" class="form-range" id="maxJourneyTime" min="1" max="12">
				  <div class="form-check form-switch">
					  <input class="form-check-input" type="checkbox" role="switch" id="includeNightAndTrainsFerries" checked>
					  <label class="form-check-label" for="flexSwitchCheckChecked">show longer journey times for night trains and ferries</label>
				  </div>
				-->
			  	</div>
			</div>
			<div id="aboutBody" hidden="true">
				<figure class="text-center">
					<blockquote class="blockquote">
					<blockquote class="blockquote mb-0">
						<p class="card-text" style="font-size:14px">It is good to have an end to journey toward, but it is the journey that matters in the end.</p>
						<footer class="blockquote-footer">Ernest Hemingway</footer>
				  	</blockquote>
				</figure>
				<h5 class="card-header" style="font-family: 'Cantora One', Arial; font-weight: 700; vertical-align: baseline; color:#ff6600ff">Me</h5>
				<img src="./static/icons/me.jpg" class="card-img-top" alt="...">
				<div class="card-body">
					<p class="card-text">
						Hi, I'm Howard.
						<br>
						Over the last few years, I've been travelling around Europe and seeing what our fab continent has to offer.
						These days I'm less interested in where I'm going <em>to</em> and want to know more about where I'm going <em>through</em>.
						<br>
						I love getting off the train (or coach - I've become a fan) and going for a mooch around the places I used to fly over.
						<br>
						The trouble is that transport information across Europe is (currently) a bit of a mess. I've made TripHop to try and help. Let me know what you think.
					</p>
				</div>
			</div>
		</div>
		<div class="col leaflet-sidebar-map" id="map"></div>
	  </div>
	
</body>
</html>